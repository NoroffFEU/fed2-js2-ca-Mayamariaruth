const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feed-CprK2K1p.js","assets/authorPosts-a1AKxWD9.js","assets/login-C_keMkIk.js","assets/register-GFJKpl24.js","assets/post-9czGZ4LM.js","assets/profile-CHy4XWko.js"])))=>i.map(i=>d[i]);
import{i as f,s as h,u as E,b as _}from"./feed-CprK2K1p.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();const L="modulepreload",b=function(e){return"/fed2-js2-ca-Mayamariaruth/"+e},g={},u=function(t,a,r){let o=Promise.resolve();if(a&&a.length>0){let i=function(s){return Promise.all(s.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=c?.nonce||c?.getAttribute("nonce");o=i(a.map(s=>{if(s=b(s),s in g)return;g[s]=!0;const d=s.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${m}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":L,d||(l.as="script"),l.crossOrigin="",l.href=s,p&&l.setAttribute("nonce",p),document.head.appendChild(l),d)return new Promise((v,w)=>{l.addEventListener("load",v),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return o.then(i=>{for(const c of i||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},S="/fed2-js2-ca-Mayamariaruth";async function P(e=window.location.pathname){const a=(e.replace(S,"")||"/").replace(/\/index\.html$|\/$/g,"")||"/";switch(a){case"":case"/":await u(()=>import("./feed-CprK2K1p.js").then(r=>r.f),__vite__mapDeps([0,1]));break;case"/auth/login":await u(()=>import("./login-C_keMkIk.js"),__vite__mapDeps([2,1,0]));break;case"/auth/register":await u(()=>import("./register-GFJKpl24.js"),__vite__mapDeps([3,1,0]));break;case"/post":await u(()=>import("./post-9czGZ4LM.js"),__vite__mapDeps([4,1,0]));break;case"/profile":await u(()=>import("./profile-CHy4XWko.js"),__vite__mapDeps([5,0,1]));break;case"/profile/authorPosts":await u(()=>import("./authorPosts-a1AKxWD9.js").then(r=>r.d),[]);break;default:console.warn("⚠️ Route not found:",a),await u(()=>import("./notFound-CGsxJGE1.js"),[])}}function k(){const e=window.location.pathname.replace("/fed2-js2-ca-Mayamariaruth","");["/","/index.html","/post/index.html","/profile/","/profile/authorPosts/"].includes(e)&&!f()&&(sessionStorage.setItem("notification",JSON.stringify({message:"You must be logged in to access this page",type:"error"})),window.location.href="/fed2-js2-ca-Mayamariaruth/auth/login/")}async function I(e){if(!f()){h("You must be logged in to search.","error");return}e&&(localStorage.setItem("searchQuery",e),window.location.href="/fed2-js2-ca-Mayamariaruth/index.html")}function A(){localStorage.removeItem("accessToken"),localStorage.removeItem("profile"),window.location.href="/fed2-js2-ca-Mayamariaruth/"}async function M(e){e.preventDefault(),A(),E(),sessionStorage.setItem("notification",JSON.stringify({type:"success",message:"Logged out successfully!"})),window.location.href="/fed2-js2-ca-Mayamariaruth/"}function O(){if(!f())return;[document.querySelector("#logout-link"),document.querySelector("#logout-link-mobile")].forEach(t=>{t&&t.addEventListener("click",M)})}async function j(){const t=await(await fetch("/fed2-js2-ca-Mayamariaruth/components/aboutModal.html")).text();document.body.insertAdjacentHTML("beforeend",t)}function T(){const e=document.querySelectorAll("#about-link-desktop, #about-link-mobile"),t=document.querySelector("#about-modal");if(e.length&&t){const a=new bootstrap.Modal(t);e.forEach(r=>{r.addEventListener("click",o=>{o.preventDefault(),a.show()})}),t.addEventListener("shown.bs.modal",()=>{const r=document.querySelector(".modal-backdrop");r&&r.removeAttribute("aria-hidden")})}}(function(){const t=window.location.pathname;t==="/fed2-js2-ca-Mayamariaruth"||t==="/fed2-js2-ca-Mayamariaruth/"||t==="/fed2-js2-ca-Mayamariaruth/index.html"||localStorage.removeItem("searchQuery")})();document.querySelectorAll("#nav-home-desktop, #nav-home-mobile, .logo").forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});k();try{await P(window.location.pathname)}catch(e){console.error("Routing error:",e),h("Page failed to load.","error")}document.querySelectorAll('a[href="/"]').forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});O();E();_();await j();T();const y=sessionStorage.getItem("notification");if(y){const{type:e,message:t}=JSON.parse(y);h(t,e),sessionStorage.removeItem("notification")}function R(){const e=document.getElementById("search-input"),t=document.getElementById("search-input-mobile"),a=r=>{if(r.key==="Enter"){r.preventDefault();const o=r.target.value.trim();I(o)}};e&&e.addEventListener("keydown",a),t&&t.addEventListener("keydown",a)}R();document.querySelectorAll('a[href="/fed2-js2-ca-Mayamariaruth/index.html"]').forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});
