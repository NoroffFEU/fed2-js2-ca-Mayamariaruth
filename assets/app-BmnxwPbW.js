const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feed-CsAbELcb.js","assets/headers-C2fTOECc.js","assets/read-DmHqR6i0.js","assets/login-C1fSE0Ri.js","assets/register-DohSObn1.js","assets/post-DhcgW4Ie.js","assets/profile-AmO94JsE.js","assets/authorPosts-D_mXkwiw.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const L="modulepreload",b=function(e){return"/fed2-js2-ca-Mayamariaruth/"+e},p={},u=function(t,i,n){let o=Promise.resolve();if(i&&i.length>0){let s=function(a){return Promise.all(a.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),g=c?.nonce||c?.getAttribute("nonce");o=s(i.map(a=>{if(a=b(a),a in p)return;p[a]=!0;const d=a.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":L,d||(l.as="script"),l.crossOrigin="",l.href=a,g&&l.setAttribute("nonce",g),document.head.appendChild(l),d)return new Promise((w,E)=>{l.addEventListener("load",w),l.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return o.then(s=>{for(const c of s||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};async function _(e=window.location.pathname){const t="/fed2-js2-ca-Mayamariaruth",i=e.startsWith(t)?e.slice(t.length)||"/":e;switch(console.log("ðŸ” Routing path:",i),i){case"/":case"/index.html":console.log("ðŸ“¦ Loading feed view"),await u(()=>import("./feed-CsAbELcb.js"),__vite__mapDeps([0,1,2]));break;case"/auth/login/":console.log("ðŸ“¦ Loading login view"),await u(()=>import("./login-C1fSE0Ri.js"),__vite__mapDeps([3,1]));break;case"/auth/register/":console.log("ðŸ“¦ Loading register view"),await u(()=>import("./register-DohSObn1.js"),__vite__mapDeps([4,1]));break;case"/post/":console.log("ðŸ“¦ Loading post view"),await u(()=>import("./post-DhcgW4Ie.js"),__vite__mapDeps([5,1]));break;case"/profile/":console.log("ðŸ“¦ Loading profile view"),await u(()=>import("./profile-AmO94JsE.js"),__vite__mapDeps([6,2,1]));break;case"/profile/authorPosts/":console.log("ðŸ“¦ Loading authorPosts view"),await u(()=>import("./authorPosts-D_mXkwiw.js"),__vite__mapDeps([7,1]));break;default:console.warn("âš ï¸ Route not matched. Loading 404 view."),await u(()=>import("./notFound-CGsxJGE1.js"),[])}}function m(){return!!localStorage.getItem("accessToken")}function B(){return JSON.parse(localStorage.getItem("profile"))?.name||null}function k(){const e=window.location.pathname;["/","/index.html","/post/index.html","/profile/","/profile/authorposts/"].includes(e)&&!m()&&(sessionStorage.setItem("notification",JSON.stringify({message:"You must be logged in to access this page",type:"error"})),window.location.href="/auth/login/")}function S(){const e=document.querySelectorAll(".nav-link"),t=window.location.pathname.replace(/\/+$/,"");e.forEach(n=>{new URL(n.href).pathname.replace(/\/+$/,"")===t&&n.getAttribute("href")!=="#"?n.classList.add("active"):n.classList.remove("active")});const i=document.querySelector("#profile-dropdown");i&&(t==="/auth/login"||t==="/auth/register"||t.startsWith("/profile")?i.classList.add("active"):i.classList.remove("active"))}function y(){const e=m(),t={login:document.getElementById("login-link"),register:document.getElementById("register-link"),profile:document.getElementById("profile-link"),logout:document.getElementById("logout-link")},i={login:document.getElementById("login-wrapper-mobile"),register:document.getElementById("register-wrapper-mobile"),profile:document.getElementById("profile-wrapper-mobile"),logout:document.getElementById("logout-wrapper-mobile")};[t,i].forEach(n=>{n.login&&(n.login.style.display=e?"none":"block"),n.register&&(n.register.style.display=e?"none":"block"),n.profile&&(n.profile.style.display=e?"block":"none"),n.logout&&(n.logout.style.display=e?"block":"none")})}function R(){const e=document.querySelector("#nav-home-desktop"),t=document.querySelector("#nav-home-mobile");document.querySelectorAll(".nav-link").forEach(i=>{i.classList.remove("active")}),e&&e.classList.add("active"),t&&t.classList.add("active")}function v(e,t="success"){const i=document.getElementById("notifications");if(!i)return;const n=t==="success"?"alert-success":"alert-danger",o=document.createElement("div");o.className=`alert ${n} alert-dismissible fade show`,o.role="alert",o.textContent=e,i.appendChild(o),setTimeout(()=>{o&&o.parentNode&&(o.classList.remove("show"),o.classList.add("fade"),setTimeout(()=>o.remove(),150))},5e3)}async function I(e){if(!m()){v("You must be logged in to search.","error");return}e&&(localStorage.setItem("searchQuery",e),window.location.href="/index.html")}function P(){localStorage.removeItem("accessToken"),localStorage.removeItem("profile"),window.location.href="/"}function A(e){e.preventDefault(),P(),y(),sessionStorage.setItem("notification",JSON.stringify({type:"success",message:"Logged out successfully!"})),window.location.href="/"}function O(){if(!m())return;[document.querySelector("#logout-link"),document.querySelector("#logout-link-mobile")].forEach(t=>{t&&t.addEventListener("click",A)})}async function T(){const t=await(await fetch("/components/aboutModal.html")).text();document.body.insertAdjacentHTML("beforeend",t)}function N(){const e=document.querySelectorAll("#about-link-desktop, #about-link-mobile"),t=document.querySelector("#about-modal");if(e.length&&t){const i=new bootstrap.Modal(t);e.forEach(n=>{n.addEventListener("click",o=>{o.preventDefault(),i.show()})})}}k();await _(window.location.pathname);document.querySelectorAll('a[href="/"]').forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});O();y();S();await T();N();const h=sessionStorage.getItem("notification");if(h){const{type:e,message:t}=JSON.parse(h);v(t,e),sessionStorage.removeItem("notification")}function q(){const e=document.getElementById("search-input"),t=document.getElementById("search-input-mobile"),i=n=>{if(n.key==="Enter"){n.preventDefault();const o=n.target.value.trim();I(o)}};e&&e.addEventListener("keydown",i),t&&t.addEventListener("keydown",i)}q();export{R as a,B as g,m as i,v as s};
