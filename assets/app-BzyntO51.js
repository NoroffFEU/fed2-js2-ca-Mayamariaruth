const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/login-DbP9pIRA.js","assets/headers-BP1T59_6.js","assets/register-CHOpHb6y.js","assets/post-BEkyr4-b.js","assets/profile-B6ZeP_bo.js","assets/authorPosts-CVfy-Uwm.js"])))=>i.map(i=>d[i]);
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();const v="modulepreload",L=function(e){return"/fed2-js2-ca-Mayamariaruth/"+e},g={},d=function(o,r,n){let t=Promise.resolve();if(r&&r.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),p=a?.nonce||a?.getAttribute("nonce");t=s(r.map(c=>{if(c=L(c),c in g)return;g[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":v,u||(l.as="script"),l.crossOrigin="",l.href=c,p&&l.setAttribute("nonce",p),document.head.appendChild(l),u)return new Promise((b,E)=>{l.addEventListener("load",b),l.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return t.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return o().catch(i)})},I="/fed2-js2-ca-Mayamariaruth";async function k(e=window.location.pathname){const r=(e.replace(I,"")||"/").replace(/\/index\.html$|\/$/g,"")||"/";switch(r){case"":case"/":console.log("ðŸ“¦ Loading feed view"),await import(new URL("data:text/javascript;base64,Y29uc29sZS5sb2coIuKchSBmZWVkLmpzIGxvYWRlZCIpOwoKaW1wb3J0IHsgc2VhcmNoRmVlZCB9IGZyb20gIkBjb250cm9sbGVycy9zZWFyY2hDb250cm9sbGVyLmpzIjsKaW1wb3J0IHsgcmVuZGVyQ3JlYXRlUG9zdEZvcm0gfSBmcm9tICJAdWkvcG9zdC9jcmVhdGUuanMiOwoKY29uc29sZS5sb2coInJlbmRlciBjcmVhdGUgcG9zdCBmb3JtIGxvYWRlZCIpOwpyZW5kZXJDcmVhdGVQb3N0Rm9ybSgpOwpzZWFyY2hGZWVkKCk7Cg==",import.meta.url)).catch(n=>{console.error("âŒ Failed to load feed.js",n)});break;case"/auth/login":await d(()=>import("./login-DbP9pIRA.js"),__vite__mapDeps([0,1]));break;case"/auth/register":await d(()=>import("./register-CHOpHb6y.js"),__vite__mapDeps([2,1]));break;case"/post":await d(()=>import("./post-BEkyr4-b.js"),__vite__mapDeps([3,1]));break;case"/profile":await d(()=>import("./profile-B6ZeP_bo.js"),__vite__mapDeps([4,1]));break;case"/profile/authorPosts":await d(()=>import("./authorPosts-CVfy-Uwm.js"),__vite__mapDeps([5,1]));break;default:console.warn("âš ï¸ Route not found:",r),await d(()=>import("./notFound-CGsxJGE1.js"),[])}}function f(){return!!localStorage.getItem("accessToken")}function T(){return JSON.parse(localStorage.getItem("profile"))?.name||null}function S(){const e=window.location.pathname;["/","/index.html","/post/index.html","/profile/","/profile/authorposts/"].includes(e)&&!f()&&(sessionStorage.setItem("notification",JSON.stringify({message:"You must be logged in to access this page",type:"error"})),window.location.href="/auth/login/")}function _(){const e=document.querySelectorAll(".nav-link"),o=window.location.pathname.replace(/\/+$/,"");e.forEach(n=>{new URL(n.href).pathname.replace(/\/+$/,"")===o&&n.getAttribute("href")!=="#"?n.classList.add("active"):n.classList.remove("active")});const r=document.querySelector("#profile-dropdown");r&&(o==="/auth/login"||o==="/auth/register"||o.startsWith("/profile")?r.classList.add("active"):r.classList.remove("active"))}function y(){const e=f(),o={login:document.getElementById("login-link"),register:document.getElementById("register-link"),profile:document.getElementById("profile-link"),logout:document.getElementById("logout-link")},r={login:document.getElementById("login-wrapper-mobile"),register:document.getElementById("register-wrapper-mobile"),profile:document.getElementById("profile-wrapper-mobile"),logout:document.getElementById("logout-wrapper-mobile")};[o,r].forEach(n=>{n.login&&(n.login.style.display=e?"none":"block"),n.register&&(n.register.style.display=e?"none":"block"),n.profile&&(n.profile.style.display=e?"block":"none"),n.logout&&(n.logout.style.display=e?"block":"none")})}function w(e,o="success"){const r=document.getElementById("notifications");if(!r)return;const n=o==="success"?"alert-success":"alert-danger",t=document.createElement("div");t.className=`alert ${n} alert-dismissible fade show`,t.role="alert",t.textContent=e,r.appendChild(t),setTimeout(()=>{t&&t.parentNode&&(t.classList.remove("show"),t.classList.add("fade"),setTimeout(()=>t.remove(),150))},5e3)}async function P(e){if(!f()){w("You must be logged in to search.","error");return}e&&(localStorage.setItem("searchQuery",e),window.location.href="/index.html")}function A(){localStorage.removeItem("accessToken"),localStorage.removeItem("profile"),window.location.href="/"}function O(e){e.preventDefault(),A(),y(),sessionStorage.setItem("notification",JSON.stringify({type:"success",message:"Logged out successfully!"})),window.location.href="/"}function B(){if(!f())return;[document.querySelector("#logout-link"),document.querySelector("#logout-link-mobile")].forEach(o=>{o&&o.addEventListener("click",O)})}async function R(){const o=await(await fetch("/components/aboutModal.html")).text();document.body.insertAdjacentHTML("beforeend",o)}function V(){const e=document.querySelectorAll("#about-link-desktop, #about-link-mobile"),o=document.querySelector("#about-modal");if(e.length&&o){const r=new bootstrap.Modal(o);e.forEach(n=>{n.addEventListener("click",t=>{t.preventDefault(),r.show()})})}}S();await k(window.location.pathname);document.querySelectorAll('a[href="/"]').forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});B();y();_();await R();V();const h=sessionStorage.getItem("notification");if(h){const{type:e,message:o}=JSON.parse(h);w(o,e),sessionStorage.removeItem("notification")}function N(){const e=document.getElementById("search-input"),o=document.getElementById("search-input-mobile"),r=n=>{if(n.key==="Enter"){n.preventDefault();const t=n.target.value.trim();P(t)}};e&&e.addEventListener("keydown",r),o&&o.addEventListener("keydown",r)}N();export{T as g,w as s};
