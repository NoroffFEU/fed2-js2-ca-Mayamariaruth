const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feed-Crbd18v-.js","assets/authorPosts-DUoUsbdZ.js","assets/login-DD398VNm.js","assets/register-BtTK2mJW.js","assets/post-BTzgnWGG.js","assets/profile-BZ10ak6t.js"])))=>i.map(i=>d[i]);
import{i as m,s as y,u as w,a as v}from"./feed-Crbd18v-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const L="modulepreload",b=function(e){return"/fed2-js2-ca-Mayamariaruth/"+e},h={},u=function(o,n,i){let t=Promise.resolve();if(n&&n.length>0){let s=function(a){return Promise.all(a.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=c?.nonce||c?.getAttribute("nonce");t=s(n.map(a=>{if(a=b(a),a in h)return;h[a]=!0;const d=a.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":L,d||(l.as="script"),l.crossOrigin="",l.href=a,p&&l.setAttribute("nonce",p),document.head.appendChild(l),d)return new Promise((E,_)=>{l.addEventListener("load",E),l.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return t.then(s=>{for(const c of s||[])c.status==="rejected"&&r(c.reason);return o().catch(r)})},S="/fed2-js2-ca-Mayamariaruth";async function P(e=window.location.pathname){const n=(e.replace(S,"")||"/").replace(/\/index\.html$|\/$/g,"")||"/";switch(n){case"":case"/":console.log("📦 Loading feed view"),await u(()=>import("./feed-Crbd18v-.js").then(i=>i.f),__vite__mapDeps([0,1]));break;case"/auth/login":await u(()=>import("./login-DD398VNm.js"),__vite__mapDeps([2,1,0]));break;case"/auth/register":await u(()=>import("./register-BtTK2mJW.js"),__vite__mapDeps([3,1,0]));break;case"/post":await u(()=>import("./post-BTzgnWGG.js"),__vite__mapDeps([4,1,0]));break;case"/profile":await u(()=>import("./profile-BZ10ak6t.js"),__vite__mapDeps([5,0,1]));break;case"/profile/authorPosts":await u(()=>import("./authorPosts-DUoUsbdZ.js").then(i=>i.d),[]);break;default:console.warn("⚠️ Route not found:",n),await u(()=>import("./notFound-CGsxJGE1.js"),[])}}function k(){const e=window.location.pathname;["/","/index.html","/post/index.html","/profile/","/profile/authorPosts/"].includes(e)&&!m()&&(sessionStorage.setItem("notification",JSON.stringify({message:"You must be logged in to access this page",type:"error"})),window.location.href="/auth/login/")}async function I(e){if(!m()){y("You must be logged in to search.","error");return}e&&(localStorage.setItem("searchQuery",e),window.location.href="/index.html")}function A(){localStorage.removeItem("accessToken"),localStorage.removeItem("profile"),window.location.href="/"}function O(e){e.preventDefault(),A(),w(),sessionStorage.setItem("notification",JSON.stringify({type:"success",message:"Logged out successfully!"})),window.location.href="/"}function T(){if(!m())return;[document.querySelector("#logout-link"),document.querySelector("#logout-link-mobile")].forEach(o=>{o&&o.addEventListener("click",O)})}async function M(){const o=await(await fetch("/fed2-js2-ca-Mayamariaruth/components/aboutModal.html")).text();document.body.insertAdjacentHTML("beforeend",o)}function N(){const e=document.querySelectorAll("#about-link-desktop, #about-link-mobile"),o=document.querySelector("#about-modal");if(e.length&&o){const n=new bootstrap.Modal(o);e.forEach(i=>{i.addEventListener("click",t=>{t.preventDefault(),n.show()})})}}k();await P(window.location.pathname);document.querySelectorAll('a[href="/"]').forEach(e=>{e.addEventListener("click",()=>{localStorage.removeItem("searchQuery")})});T();w();v();await M();N();const g=sessionStorage.getItem("notification");if(g){const{type:e,message:o}=JSON.parse(g);y(o,e),sessionStorage.removeItem("notification")}function R(){const e=document.getElementById("search-input"),o=document.getElementById("search-input-mobile"),n=i=>{if(i.key==="Enter"){i.preventDefault();const t=i.target.value.trim();I(t)}};e&&e.addEventListener("keydown",n),o&&o.addEventListener("keydown",n)}R();
